%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\
%%%% Tweak float placements
% From: http://mintaka.sdsu.edu/GF/bibliog/latex/floats.html "Controlling LaTeX Floats"
% and based on: http://www.tex.ac.uk/cgi-bin/texfaq2html?label=floats
% LaTeX defaults listed at: http://people.cs.uu.nl/piet/floats/node1.html

% Alter some LaTeX defaults for better treatment of figures:
    % See p.105 of "TeX Unbound" for suggested values.
    % See pp. 199-200 of Lamport's "LaTeX" book for details.
    %   General parameters, for ALL pages:
    \renewcommand{\topfraction}{0.85}	% max fraction of floats at top
    \renewcommand{\bottomfraction}{0.6}	% max fraction of floats at bottom
    %   Parameters for TEXT pages (not float pages):
    \setcounter{topnumber}{2}
    \setcounter{bottomnumber}{2}
    \setcounter{totalnumber}{4}     % 2 may work better
    \setcounter{dbltopnumber}{2}    % for 2-column pages
    \renewcommand{\dbltopfraction}{0.66}	% fit big float above 2-col. text
    \renewcommand{\textfraction}{0.15}	% allow minimal text w. figs
    %   Parameters for FLOAT pages (not text pages):
    \renewcommand{\floatpagefraction}{0.66}	% require fuller float pages
	% N.B.: floatpagefraction MUST be less than topfraction !!
    \renewcommand{\dblfloatpagefraction}{0.66}	% require fuller float pages

% The documentclass already sets parameters to make a high penalty for widows and orphans. 

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%\
%%%% Use packages

%\usepackage{amsfonts}




%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%% Printed vs. online formatting
\ifdefined\printmode

% Printed copy
% url package understands urls (with proper line-breaks) without hyperlinking them
\usepackage{url}


\else

\ifdefined\proquestmode
%ProQuest copy -- http://www.princeton.edu/~mudd/thesis/Submissionguide.pdf

% ProQuest requires a double spaced version (set previously). They will take an electronic copy, so we want links in the pdf, but also copies may be printed or made into microfilm in black and white, so we want outlined links instead of colored links.
\usepackage{hyperref}
\hypersetup{bookmarksnumbered}

% copy the already-set title and author to use in the pdf properties
\makeatletter
\hypersetup{pdftitle=\@title,pdfauthor=\@author}
\makeatother

\else
% Online copy

% copy the already-set title and author to use in the pdf properties
%\makeatletter
%\hypersetup{pdftitle=\@title,pdfauthor=\@author}
%\makeatother

% make the page number rather than the text be the link for ToC entries
%\hypersetup{linktocpage}
\fi % proquest or online formatting
\fi % printed or online formatting



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%-------- page and style packages ------------------------%
\usepackage{mdframed}
\usepackage{enumitem}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%--------- math package ------------------%
\usepackage{amssymb,amsmath,amsthm}
\usepackage{mathabx} % for \widecheck
\usepackage{empheq}
\usepackage{scalerel}
\usepackage{mathrsfs} % to scale math expressions
\usepackage{bm}
\usepackage{bbm}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%--------- algorithm packages -----------%

\usepackage{algorithm}
\usepackage{algorithmic}
\usepackage[algo2e,linesnumbered,ruled,vlined]{algorithm2e}

\renewcommand{\algorithmicrequire}{\textbf{Input:}}
\renewcommand{\algorithmicensure}{\textbf{Output:}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%--------- figure and drawing packages --------------%
\usepackage{graphicx}
\usepackage{caption}
\usepackage{subcaption}
\usepackage[all,cmtip]{xy} % for drawing diagram
\usepackage{tikz} % for vector graph

% ------- setting ---------------------------
\DeclareGraphicsRule{.tif}{png}{.png}{`convert #1 `dirname #1`/`basename #1 .tif`.png}
\tikzset{every picture/.style={line width=0.75pt}} %set default line width to 0.75pt        


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%----------output control packages -------------%
\usepackage{epstopdf}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%--------- bibliography & appendix -----------------%
\usepackage{hyperref}
\usepackage[square,numbers]{natbib}
\usepackage[titletoc]{appendix}
\setcitestyle{authoryear ,open={[},close={]} } %Citation-related commands
\hypersetup{citecolor=red,linkcolor=blue,colorlinks, bookmarksnumbered=true,plainpages=false}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% -------  comments and todo -------------%
\usepackage{comment}
\usepackage{color}
\usepackage{xcolor}
\usepackage{todonotes}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% settings for some special styles
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%attach letters togeter
\newcommand{\MRkern}{%
	\mkern-6mu
	\mathchoice{}{}{\mkern0.2mu}{\mkern0.5mu}%
}

% italic in math
\newcommand{\mli}[1]{\mathit{#1}}



\newcommand{\vertiii}[1]{{\left\vert\kern-0.25ex\left\vert\kern-0.25ex\left\vert #1 
		\right\vert\kern-0.25ex\right\vert\kern-0.25ex\right\vert}}



% quick command for color
\newcommand{\red}[1]{ {\color{red}{#1}} }
\newcommand{\orange}[1]{ {\color{orange}{#1}} }
\newcommand{\green}[1]{ {\color{green}{#1}} }
\newcommand{\cyan}[1]{ {\color{cyan}{#1}} }
\newcommand{\blue}[1]{ {\color{blue}{#1}} }


% to do comment
\newcommand{\tocheck}[1]{\todo[size=tiny,linecolor=blue,backgroundcolor=blue!25,bordercolor=blue]{#1}}
\newcommand{\todor}[1]{\todo[size=tiny,linecolor=red,backgroundcolor=red!25,bordercolor=red]{#1}}


% % DEPTH FOR TABLEOFCONTENTS
% \setcounter{tocdepth}{3}
% \setcounter{secnumdepth}{3}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Letters
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% -----------  BOLD UPPER CASE ----------------------

\newcommand\bA{ {\mathbf A} }
\newcommand\bB{ {\mathbf B} }
\newcommand\bC{ {\mathbf C} }
\newcommand\bD{ {\mathbf D} }
\newcommand\bE{ {\mathbf E} }
\newcommand\bF{ {\mathbf F} }
\newcommand\bG{ {\mathbf G} }
\newcommand\bH{ {\mathbf H} }
\newcommand\bI{ {\mathbf I} }
\newcommand\bJ{ {\mathbf J} }
\newcommand\bK{ {\mathbf K} }
\newcommand\bL{ {\mathbf L} }
\newcommand\bM{ {\mathbf M} }
\newcommand\bN{ {\mathbf N} }
\newcommand\bO{ {\mathbf O} }
\newcommand\bP{ {\mathbf P} }
\newcommand\bQ{ {\mathbf Q} }
\newcommand\bR{ {\mathbf R} }
\newcommand\bS{ {\mathbf S} }
\newcommand\bT{ {\mathbf T} } 
\newcommand\bU{ {\mathbf U} }
\newcommand\bV{ {\mathbf V} }
\newcommand\bW{ {\mathbf W} }
\newcommand\bX{ {\mathbf X} }
\newcommand\bY{ {\mathbf Y} }
\newcommand\bZ{ {\mathbf Z} }

%----------- Bold lower case --------------------------


\newcommand\bp{{\mathbf p}}
\newcommand\br{{\mathbf r}}
\newcommand\bu{{\mathbf u}}
\newcommand\bv{{\mathbf v}}
\newcommand\bw{{\mathbf w}}
\newcommand\bx{{\mathbf x}}
\newcommand\by{{\mathbf y}}
\newcommand\bz{{\mathbf z}}


% ------------- script---------------------------------
\newcommand\sA{ {\mathscr A} }
\newcommand\sB{ {\mathscr B} }
\newcommand\sC{ {\mathscr C} }
\newcommand\sD{ {\mathscr D} }
\newcommand\sE{ {\mathscr E} }
\newcommand\sF{ {\mathscr F} }
\newcommand\sG{ {\mathscr G} }
\newcommand\sH{ {\mathscr H} }
\newcommand\sI{ {\mathscr I} }
\newcommand\sJ{ {\mathscr J} }
\newcommand\sK{ {\mathscr K} }
\newcommand\sL{ {\mathscr L} }
\newcommand\sM{ {\mathscr M} }
\newcommand\sN{ {\mathscr N} }
\newcommand\sO{ {\mathscr O} }
\newcommand\sP{ {\mathscr P} }
\newcommand\sQ{ {\mathscr Q} }
\newcommand\sR{ {\mathscr R} }
\newcommand\sS{ {\mathscr S} }
\newcommand\sT{ {\mathscr T} }
\newcommand\sU{ {\mathscr U} }
\newcommand\sV{ {\mathscr V} }
\newcommand\sW{ {\mathscr W} }
\newcommand\sX{ {\mathscr X} }
\newcommand\sY{ {\mathscr Y} }
\newcommand\sZ{ {\mathscr Z} }


%----- calligraphic fonts -----------------------

\newcommand{\cA}{{\mathcal{A}}}
\newcommand{\cB}{{\mathcal{B}}}
\newcommand{\cC}{{\mathcal{C}}}
\newcommand{\cD}{{\mathcal{D}}}
\newcommand{\cE}{{\mathcal{E}}}
\newcommand{\cF}{{\mathcal{F}}}
\newcommand{\cG}{{\mathcal{G}}}
\newcommand{\cH}{{\mathcal{H}}}
\newcommand{\cI}{{\mathcal{I}}}
\newcommand{\cJ}{{\mathcal{J}}}
\newcommand{\cK}{{\mathcal{K}}}
\newcommand{\cL}{{\mathcal{L}}}
\newcommand{\cM}{{\mathcal{M}}}
\newcommand{\cN}{{\mathcal{N}}}
\newcommand{\cO}{{\mathcal{O}}}
\newcommand{\cP}{{\mathcal{P}}}
\newcommand{\cQ}{{\mathcal{Q}}}
\newcommand{\cR}{{\mathcal{R}}}
\newcommand{\cS}{{\mathcal{S}}}
\newcommand{\cT}{{\mathcal{T}}}
\newcommand{\cU}{{\mathcal{U}}}
\newcommand{\cV}{{\mathcal{V}}}
\newcommand{\cW}{{\mathcal{W}}}
\newcommand{\cX}{{\mathcal{X}}}
\newcommand{\cY}{{\mathcal{Y}}}
\newcommand{\cZ}{{\mathcal{Z}}}

%----- bold greek fonts -------------------------

\newcommand{\balpha}{  {\bm{\alpha}} }
\newcommand{\bbeta}{  {\bm{\beta}} }
\newcommand{\bgamma}{  {\bm{\gamma}} }
\newcommand{\bepsilon}{  {\bm{\epsilon}} }
\newcommand{\bvarepsilon}{  {\bm{\varepsilon}} }
\newcommand{\bzeta}{  {\bm{\zeta}} }
\newcommand{\btheta}{  {\bm{\theta}} }
\newcommand{\bvartheta}{ {\bm{\vartheta}} }
\newcommand{\bkappa}{  {\bm{\kappa}} }
\newcommand{\blambda}{  {\bm{\lambda}} }
\newcommand{\bmu}{  {\bm{\mu}} }
\newcommand{\bnu}{  {\bm{\nu}} }
\newcommand{\bxi}{	{\bm{\xi}} }
\newcommand{\bpi}{  {\bm{\pi}} }
\newcommand{\bvarpi}{	{\bm{\varpi}} }
\newcommand{\brho}{	 {\bm{\varrho}}  }
\newcommand{\bsigma}{	{\bm{\sigma}} }
\newcommand{\bvarsigma}{ {\bm{\varsigma}} }
\newcommand{\btau}{  {\bm{\tau}} }
\newcommand{\bupsilon}{  {\bm{\upsilon}} }
\newcommand{\bphi}{  {\bm{\phi}} }
\newcommand{\bvarphi}{  {\bm{\varphi}} }
\newcommand{\bchi}{  {\bm{\chi}} }
\newcommand{\bpsi}{  {\bm{\psi}} }
\newcommand{\bomega}{  {\bm{\omega}} }
\newcommand{\bGamma}{ {\bm{\Gamma}} }
\newcommand{\bDelta}{  {\bm{\Delta}} }
\newcommand{\bTheta}{  {\bm{\Theta}} }
\newcommand{\bLambda}{  {\bm{\Lambda}} }
\newcommand{\bXi}{  {\bm{\Xi}} }
\newcommand{\bPi}{ {\bm{\Pi}} } 
\newcommand{\bSigma}{  {\bm{\Sigma}} }
\newcommand{\bUpsilon}{  {\bm{\Upsilon}} }
\newcommand{\bPhi}{  {\bm{\Phi}} }
\newcommand{\bPsi}{  {\bm{\Psi}} }
\newcommand{\bOmega}{  {\bm{\Omega}} }

%-----------Fraktur lower case ---------------------

\newcommand\fa{\mathfrak a}


% ------- Fraktur upper case ----------------------
\newcommand\fX{\mathfrak X}
\newcommand{\fM}{\mathfrak M}

% ---------Blackboard bold style ----------------

%\newcommand\AA{ {\mathbb A} }
\newcommand\BB{ {\mathbb B} }
\newcommand\CC{ {\mathbb C} }
\newcommand\DD{ {\mathbb D} }
\newcommand\EE{ {\mathbb E} }
\newcommand\FF{ {\mathbb F} }
\newcommand\GG{ {\mathbb G} }
\newcommand\HH{ {\mathbb H} }
\newcommand\II{ {\mathbb I} }
\newcommand\JJ{ {\mathbb J} }
\newcommand\KK{ {\mathbb K} }
\newcommand\LL{ {\mathbb L} }
\newcommand\MM{ {\mathbb M} }
\newcommand\NN{ {\mathbb N} }
\newcommand\OO{ {\mathbb O} }
\newcommand\PP{ {\mathbb P} }
\newcommand\QQ{ {\mathbb Q} }
\newcommand\RR{ {\mathbb R} }
%\newcommand\SS{ {\mathbb S} }
\newcommand\bbS{ {\mathbb S} }
\newcommand\TT{ {\mathbb T} }
\newcommand\UU{ {\mathbb U} }
\newcommand\VV{ {\mathbb V} }
\newcommand\WW{ {\mathbb W} }
\newcommand\XX{ {\mathbb X} }
\newcommand\YY{ {\mathbb Y} }
\newcommand\ZZ{ {\mathbb Z} }

% ------- handle some conflicts -------------
\def\AA{\mathbb{A}}
\def\SS{\mathbb{S}}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  Math tools 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ------------ THEOREMS -----------------------
\newtheorem{theorem}{Theorem}
\newtheorem{definition}[theorem]{Definition}
\newtheorem{problem}{Problem}
\newtheorem{lemma}[theorem]{Lemma}
\newtheorem{proposition}[theorem]{Proposition}
\newtheorem{remark}[theorem]{Remark}
\newtheorem{corollary}[theorem]{Corollary}
\newtheorem{example}[theorem]{Example}
% \newtheorem{assumption}[theorem]{Assumption}
\newtheorem{assumption}{Assumption}
\renewcommand*{\theassumption}{(\Alph{assumption})}
\renewcommand*{\theassumption}{{\bf (H\arabic{assumption})}}


% -------------math new symbol -------------------
\DeclareMathOperator*{\argmax}{arg\,max}
\DeclareMathOperator*{\argmin}{arg\,min}
\def\arginf{ {\arg\inf} }
\newcommand{\softmax}{\mathrm{softmax}}
\newcommand{\argmaxe}{\mathrm{argmaxe}}
\newcommand{\softmin}{\mathrm{softmin}}
\newcommand{\argmine}{\mathrm{argmine}}


\newcommand\indic{\mathbf{1}}
\newcommand{\proj}{\mathrm{Proj}}
\newcommand{\pr}{\mathrm{pr}}
\newcommand{\supp}{\mathrm{supp}}
\newcommand{\diag}{\mathrm{diag}}

\newcommand*\diff{\mathop{}\!\mathrm{d}}

\newcommand\pound{\scalebox{0.8}{\raisebox{0.4ex}{\#}}}
\newcommand{\bhash}{\nolinebreak{\tiny\bf \#}}

\newcommand{\disteq}{ \overset{\mathrm{d}}{=} }


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%------------ new commands for introduction -------------------%
\newcommand{\addref}{{\color{red}{Add REF}}}

%------------ new commands for LQMFTG paper -------------------%
\newcommand{\iiter}{\mathbf{n}}
\newcommand{\Iiter}{\mathcal{N}^{max}}
\newcommand{\yut}[1]{ u_{#1,t}^{(y)} }
\newcommand{\zut}[1]{ u_{#1,t}^{(z)} }



%-------------new commands for mean field RL Q-learning paper ------------------- %


% comments
\newcommand{\ml}[1]{{\color{purple}(ML: #1)}}
\newcommand{\rc}[1]{{\color{blue}#1}}
\newcommand{\zt}[1]{{\color{cyan}(ZT: #1)}}


% math symbol
\newcommand{\bfM}{\underline{\mathbf{\mathfrak{M}}} }
\newcommand{\bfa}{ {\bm{\mathfrak{a}}} } 

\newcommand{\sSA}{\sS \MRkern \sA}
\newcommand{\cBD}{ {\mathcal{B}\mathcal{D}} }
\newcommand{\Lsa}{ {\mathcal{L}sa} }
\newcommand{\Lsc}{ {\mathcal{L}sc} }

\newcommand{\barGamma}{ {\bar \Gamma} }
\newcommand{\barbEta}{ {\bar {\bm \eta} } }


\DeclareMathOperator*{\measprod}{\, \hat{\otimes}\, }	


% hypothesis 
\newcommand{\HypoLambda}{\mathbf{H}_{\bLambda} }
\newcommand{\HypoAlpha}{\mathbf{H}_{\balpha}  }

% noise symbol
\newcommand{\XnNoise}{\widetilde{X}_{n, \underline e_n^{\scaleto{0\mathstrut}{5pt}}  } }
\newcommand{\cNoise}[1]{\underline e_{#1}^{\scaleto{0\mathstrut}{5pt}} }
\newcommand{\Noise}[1]{\underline e_{#1} }

\newcommand{\commNoise}{ {\bvarepsilon^0} }
\newcommand{\idioNoise}{ {\bvarepsilon} }


\newcommand{\commRandom}{ {\Theta^0} }


% tiny supercript
\newcommand{\tinymath[1]}{ {\scaleto{{#1}\mathstrut}{12pt}} }
%\newcommand\tinyxi{ {\scaleto{\xi\mathstrut}{6pt} } }
%\newcommand\tinyo{ {\scaleto{(o)\mathstrut}{6pt}} }
\newcommand\tinyor{ {\scaleto{(o,r)\mathstrut}{6pt}} }
\newcommand\tinycr{ {\scaleto{(c,r)\mathstrut}{6pt}} }

\newcommand\tinycl{ {\scaleto{CL\mathstrut}{6pt}} }
\newcommand\tinyol{ {\scaleto{OL\mathstrut}{6pt}} }


\newcommand\independent{\protect\mathpalette{\protect\independenT}{\perp}}
\def\independenT#1#2{\mathrel{\rlap{$#1#2$}\mkern2mu{#1#2}}}


% Definition
\newcommand{\defi}[1]{{\bf #1}}


%---------------- new commands for LQ MF Policy Gradient paper -------------%
\newcommand{\purple}[1]{{\color{purple}#1}}
\newcommand{\ZT}[1]{{\color{orange}#1}}

\newcommand{\rmsicon}[2]{#2}

%\newcommand{\vertiii}[1]{{\left\vert\kern-0.25ex\left\vert\kern-0.25ex\left\vert #1 
%		\right\vert\kern-0.25ex\right\vert\kern-0.25ex\right\vert}}

\newcommand{\rmicml}[2]{#1} % replace for ICML


\newcommand\bone{\mathbf 1}
%\newcommand{\mathbbm}[1]{\text{\usefont{U}{bbm}{m}{n}#1}}
\newcommand\bbone{\bm{1}}



\usepackage{amsopn}
\DeclareMathOperator{\diago}{diag}

\newcommand{\bbepsilon}{\bm{\epsilon}}

%\usepackage{epstopdf}